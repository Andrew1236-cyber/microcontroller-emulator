; Прошивка для тестирования микроконтроллера
; Вычисление чисел Фибоначчи

START:
    LDI R1, 0        ; Первое число Фибоначчи
    LDI R2, 1        ; Второе число Фибоначчи
    LDI R3, 10       ; Количество итераций
    LDI R4, 0        ; Счетчик

FIB_LOOP:
    MOV R5, R2       ; Сохраняем текущее число
    ADD R2, R1       ; Следующее число = текущее + предыдущее
    MOV R1, R5       ; Обновляем предыдущее число
    INC R4           ; Увеличиваем счетчик
    MOV R6, R4       ; Копируем счетчик для сравнения
    SUB R6, R3       ; Проверяем достигли ли максимума
    JNZ FIB_LOOP     ; Продолжаем если нет

    HALT             ; Остановка